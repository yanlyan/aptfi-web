(self.webpackChunkaptfi=self.webpackChunkaptfi||[]).push([[94],{1094:(r,t,e)=>{"use strict";e.r(t),e.d(t,{ResetPasswordModule:()=>_});var a=e(8583),o=e(6304),n=e(3679);class i{isErrorState(r,t){var e,a,o;const n=!(!(null==r?void 0:r.invalid)||!(null===(e=null==r?void 0:r.parent)||void 0===e?void 0:e.dirty)),i=!(!(null===(a=null==r?void 0:r.parent)||void 0===a?void 0:a.invalid)||!(null===(o=null==r?void 0:r.parent)||void 0===o?void 0:o.dirty));return n||i}}var s=e(7716),u=e(2340),d=e(7352);let c=(()=>{class r{constructor(r){this.httpClient=r}resetPassword(r){return this.httpClient.post(`${u.N.api}/reset-password`,r)}}return r.\u0275fac=function(t){return new(t||r)(s.LFG(d.Y))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var l=e(7001),p=e(8909),m=e(1485),f=e(5618),g=e(3738),h=e(8295),Z=e(9983),x=e(1769),w=e(1095),v=e(4885);function y(r,t){1&r&&(s.TgZ(0,"mat-error"),s._uU(1,"Password harus diisi"),s.qZA())}function A(r,t){1&r&&(s.TgZ(0,"mat-error"),s._uU(1,"Konfirmasi Password harus diisi"),s.qZA())}function k(r,t){1&r&&(s.TgZ(0,"mat-error"),s._uU(1,"Password tidak sama"),s.qZA())}function q(r,t){1&r&&(s.TgZ(0,"button",17),s._uU(1," Kirim link reset "),s.qZA())}function b(r,t){1&r&&(s.TgZ(0,"div",18),s._UZ(1,"mat-spinner",19),s.TgZ(2,"label",20),s._uU(3,"Loading"),s.qZA(),s.qZA()),2&r&&(s.xp6(1),s.Q6J("diameter",20))}let L=(()=>{class r{constructor(r,t,e,a,o){this.resetPasswordService=r,this.snackbar=t,this.route=e,this.router=a,this.recaptchaService=o,this.loading=!1,this.matcher=new i,this.checkPasswords=r=>r.get("password").value===r.get("passwordConfirmation").value?null:{notSame:!0}}ngOnInit(){this.resetForm=new n.cw({token:new n.NI(null,[n.kI.required]),password:new n.NI(null,[n.kI.required]),passwordConfirmation:new n.NI(null,[n.kI.required])},{validators:this.checkPasswords}),this.route.params.subscribe(r=>{r.token&&this.resetForm.controls.token.setValue(r.token)})}onSubmit(){var r=this;return(0,o.Z)(function*(){if(r.resetForm.valid){r.loading=!0;const t=yield r.recaptchaService.execute({action:"reset"}),e=r.resetForm.value;e.recaptcha=t,console.log(e),r.resetPasswordService.resetPassword(e).subscribe(t=>{r.snackbar.open("Password berhasil diubah","Tutup",{duration:5e3,panelClass:["snackbar-success"]}).afterDismissed().subscribe(t=>{r.router.navigate(["login"])}),r.loading=!1},t=>{r.loading=!1})}})()}}return r.\u0275fac=function(t){return new(t||r)(s.Y36(c),s.Y36(l.ux),s.Y36(p.gz),s.Y36(p.F0),s.Y36(m.qu))},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-reset-password"]],decls:29,vars:9,consts:[["fxLayout","column","fxLayoutGap","32px","fxLayoutAlign","start center",2,"height","100%","background-color","#ddd","padding-top","64px"],["fxFlex","20"],["src","assets/image/logo.png","alt","",2,"width","100%","height","100%"],["fxLayout","row","fxLayoutAlign","center center"],[2,"margin","24px 0px"],["fxLayout","column","fxLayoutAlign","center stretch"],["fxLayout","column","fxLayoutAlign","start stretch","fxLayoutGap","8px",2,"margin","0px 16px",3,"formGroup","submit"],["matInput","","placeholder","Password","formControlName","password","type","password"],[4,"ngIf"],["matInput","","placeholder","Konfirmasi Password","formControlName","passwordConfirmation","type","password",3,"errorStateMatcher"],["fxLayout","row","fxLayoutAlign","space-around center",2,"margin-top","20px","padding-bottom","20px"],["mat-raised-button","","color","primary","type","submit","fxFlex","33",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px",4,"ngIf"],[3,"size","hide"],["fxLayout","row","fxLayoutAlign","space-between center",2,"margin-top","24px","width","100%"],["routerLink","/register"],["routerLink","/login"],["mat-raised-button","","color","primary","type","submit","fxFlex","33"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px"],["color","primary",3,"diameter"],["for",""]],template:function(r,t){if(1&r&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._UZ(2,"img",2),s.qZA(),s.TgZ(3,"mat-card"),s.TgZ(4,"mat-card-header",3),s.TgZ(5,"mat-card-title",4),s._uU(6,"Masukkan email anda untuk melakukan reset password"),s.qZA(),s.qZA(),s.TgZ(7,"mat-card-content",5),s.TgZ(8,"form",6),s.NdJ("submit",function(){return t.onSubmit()}),s.TgZ(9,"mat-form-field"),s._UZ(10,"input",7),s.YNc(11,y,2,0,"mat-error",8),s.qZA(),s.TgZ(12,"mat-form-field"),s._UZ(13,"input",9),s.YNc(14,A,2,0,"mat-error",8),s.YNc(15,k,2,0,"mat-error",8),s.qZA(),s.TgZ(16,"div"),s.TgZ(17,"div",10),s.YNc(18,q,2,0,"button",11),s.YNc(19,b,4,1,"div",12),s.qZA(),s._UZ(20,"recaptcha",13),s._UZ(21,"mat-divider"),s.qZA(),s.qZA(),s.TgZ(22,"div",14),s.TgZ(23,"div"),s.TgZ(24,"a",15),s._uU(25,"Daftar akun?"),s.qZA(),s.qZA(),s.TgZ(26,"div"),s.TgZ(27,"a",16),s._uU(28,"Masuk ke Akun"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&r){let r,e,a;s.xp6(8),s.Q6J("formGroup",t.resetForm),s.xp6(3),s.Q6J("ngIf",!(null==(r=t.resetForm.get("password"))||!r.hasError("required"))),s.xp6(2),s.Q6J("errorStateMatcher",t.matcher),s.xp6(1),s.Q6J("ngIf",!(null==(e=t.resetForm.get("passwordConfirmation"))||!e.hasError("required"))),s.xp6(1),s.Q6J("ngIf",!(null==(a=t.resetForm.get("passwordConfirmation"))||!a.hasError("notSame"))),s.xp6(3),s.Q6J("ngIf",!t.loading),s.xp6(1),s.Q6J("ngIf",t.loading),s.xp6(1),s.Q6J("size","invisible")("hide",!0)}},directives:[f.xw,f.SQ,f.Wh,f.yH,g.a8,g.dk,g.n5,g.dn,n._Y,n.JL,n.sg,h.KE,Z.Nt,n.Fj,n.JJ,n.u,a.O5,m.p3,x.d,p.yS,h.TO,w.lW,v.$g],styles:[""]}),r})();var T=e(8595),I=e(3356);const U=[{path:"",component:L,canActivate:[T.i]}];let _=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[a.ez,p.Bz.forChild(U),g.QW,w.ot,h.lN,Z.c,I.o9,x.t,n.UX,v.Cq,m.Bt]]}),r})()}}]);