(self.webpackChunkaptfi=self.webpackChunkaptfi||[]).push([[674],{9674:(r,t,e)=>{"use strict";e.r(t),e.d(t,{RegisterModule:()=>I});var a=e(8583),o=e(6304),i=e(3679),n=e(2534),s=e(1781),u=e(7716),l=e(2340),m=e(7352);let c=(()=>{class r{constructor(r){this.httpClient=r}register(r,t,e,a,o){return this.httpClient.post(`${l.N.api}/register`,{name:r,email:t,password:e,password_confirmation:a,recaptcha:o})}}return r.\u0275fac=function(t){return new(t||r)(u.LFG(m.Y))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var p=e(8645),g=e(8909),d=e(1485),f=e(5618),Z=e(3738),h=e(8295),x=e(9983),v=e(1769),y=e(1095),A=e(4885);function q(r,t){1&r&&(u.TgZ(0,"mat-error"),u._uU(1,"Nama Universitas harus diisi"),u.qZA())}function w(r,t){1&r&&(u.TgZ(0,"mat-error"),u._uU(1,"Email Universitas harus diisi"),u.qZA())}function T(r,t){1&r&&(u.TgZ(0,"mat-error"),u._uU(1,"Email Universitas tidak valid"),u.qZA())}function U(r,t){1&r&&(u.TgZ(0,"button",18),u._uU(1,"Buat Akun Baru"),u.qZA())}function k(r,t){1&r&&(u.TgZ(0,"div",19),u._UZ(1,"mat-spinner",20),u.TgZ(2,"label",21),u._uU(3,"Loading"),u.qZA(),u.qZA()),2&r&&(u.xp6(1),u.Q6J("diameter",20))}let L=(()=>{class r{constructor(r,t,e,a,o){this.registerService=r,this.store=t,this.router=e,this.fb=a,this.recaptchaService=o,this.loading=!1,this.loginForm=this.fb.group({name:["",[i.kI.required]],email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required]],passwordConfirmation:["",[i.kI.required]]},{validators:(0,s.Y)("password","passwordConfirmation")})}mustMatch(r,t){return e=>{const a=e.controls[t];a.errors&&!a.errors.mustMatch||a.setErrors(e.controls[r].value!==a.value?{mustMatch:!0}:null)}}ngOnInit(){}onSubmit(){var r=this;return(0,o.Z)(function*(){if(r.loginForm.valid){r.loading=!0;const t=yield r.recaptchaService.execute({action:"register"});r.registerService.register(r.loginForm.value.name,r.loginForm.value.email,r.loginForm.value.password,r.loginForm.value.passwordConfirmation,t).subscribe(t=>{r.store.dispatch(new n.p({accessToken:t.access_token,refreshToken:t.refresh_token,role:t.user.role})),r.router.navigate(["/"]),r.loading=!1},t=>{r.loading=!1})}})()}goToRegister(){this.router.navigate(["daftar"])}}return r.\u0275fac=function(t){return new(t||r)(u.Y36(c),u.Y36(p.yh),u.Y36(g.F0),u.Y36(i.qu),u.Y36(d.qu))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-register"]],decls:34,vars:8,consts:[["fxLayout","column","fxLayoutGap","32px","fxLayoutAlign","start center",2,"height","100%","background-color","#ddd","padding-top","64px"],[2,"text-align","center"],["src","assets/image/logo2.png","alt","",2,"width","70%"],["fxLayout","row","fxLayoutAlign","center center"],[2,"margin","24px 0px"],["fxLayout","column","fxLayoutAlign","center stretch"],["fxLayout","column","fxLayoutAlign","start stretch","fxLayoutGap","8px",2,"margin","0px 16px",3,"formGroup","submit"],["matInput","","placeholder","Nama Universitas","formControlName","name","type","text"],[4,"ngIf"],["matInput","","placeholder","Email Universitas","formControlName","email","type","email"],["matInput","","placeholder","Password","formControlName","password","type","password"],["matInput","","placeholder","Ulangi Password","formControlName","passwordConfirmation","type","password"],["fxLayout","row","fxLayoutAlign","space-around center",2,"margin-top","20px","padding-bottom","20px"],["mat-raised-button","","color","primary","type","submit",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px",4,"ngIf"],[3,"size","hide"],["fxLayout","row","fxLayoutAlign","space-between center",2,"margin-top","24px","width","100%"],["routerLink","/login"],["mat-raised-button","","color","primary","type","submit"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px"],["color","primary",3,"diameter"],["for",""]],template:function(r,t){if(1&r&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"mat-card"),u.TgZ(4,"mat-card-header",3),u.TgZ(5,"mat-card-title",4),u._uU(6,"Daftar akun ke Sistem Keanggotaan APTFI"),u.qZA(),u.qZA(),u.TgZ(7,"mat-card-content",5),u.TgZ(8,"form",6),u.NdJ("submit",function(){return t.onSubmit()}),u.TgZ(9,"mat-form-field"),u._UZ(10,"input",7),u.YNc(11,q,2,0,"mat-error",8),u.qZA(),u.TgZ(12,"mat-form-field"),u._UZ(13,"input",9),u.YNc(14,w,2,0,"mat-error",8),u.YNc(15,T,2,0,"mat-error",8),u.qZA(),u.TgZ(16,"mat-form-field"),u._UZ(17,"input",10),u.TgZ(18,"mat-error"),u._uU(19,"Password harus diisi"),u.qZA(),u.qZA(),u.TgZ(20,"mat-form-field"),u._UZ(21,"input",11),u.TgZ(22,"mat-error"),u._uU(23,"Ulangi Password harus sama dengan password"),u.qZA(),u.qZA(),u.TgZ(24,"div"),u.TgZ(25,"div",12),u.YNc(26,U,2,0,"button",13),u.YNc(27,k,4,1,"div",14),u.qZA(),u._UZ(28,"recaptcha",15),u._UZ(29,"mat-divider"),u.qZA(),u.qZA(),u.TgZ(30,"div",16),u.TgZ(31,"div"),u.TgZ(32,"a",17),u._uU(33,"Masuk ke akun"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&r){let r,e,a;u.xp6(8),u.Q6J("formGroup",t.loginForm),u.xp6(3),u.Q6J("ngIf",!(null==(r=t.loginForm.get("name"))||!r.hasError("required"))),u.xp6(3),u.Q6J("ngIf",!(null==(e=t.loginForm.get("email"))||!e.hasError("required"))),u.xp6(1),u.Q6J("ngIf",!(null==(a=t.loginForm.get("email"))||!a.hasError("email"))),u.xp6(11),u.Q6J("ngIf",!t.loading),u.xp6(1),u.Q6J("ngIf",t.loading),u.xp6(1),u.Q6J("size","invisible")("hide",!0)}},directives:[f.xw,f.SQ,f.Wh,Z.a8,Z.dk,Z.n5,Z.dn,i._Y,i.JL,i.sg,h.KE,x.Nt,i.Fj,i.JJ,i.u,a.O5,h.TO,d.p3,v.d,g.yS,y.lW,A.$g],styles:[""]}),r})();var b=e(3356);const _=[{path:"",component:L,canActivate:[e(8595).i]}];let I=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[a.ez,g.Bz.forChild(_),Z.QW,y.ot,h.lN,b.o9,x.c,v.t,i.UX,A.Cq,d.Bt]]}),r})()}}]);