(self.webpackChunkaptfi=self.webpackChunkaptfi||[]).push([[761],{2761:(t,a,e)=>{"use strict";e.r(a),e.d(a,{PengurusVerifyModule:()=>ut});var n=e(8583),i=e(3962),o=e(1494),s=e(2789),r=e(2238),l=e(6682),c=e(2759),u=e(7519),m=e(4395),p=e(9761),d=e(3190),g=e(8002),f=e(9989),h=e(3679),Z=e(7716),x=e(9499),b=e(8645),y=e(8909),_=e(7001),A=e(5618),k=e(8295),T=e(9983),q=e(7441),C=e(2458),v=e(1095),w=e(4885);const U=["filterInput"],N=["matSelect"];function Y(t,a){1&t&&(Z.TgZ(0,"mat-header-cell"),Z._uU(1,"No."),Z.qZA())}function I(t,a){if(1&t&&(Z.TgZ(0,"mat-cell"),Z.TgZ(1,"span",24),Z._uU(2,"No:"),Z.qZA(),Z._uU(3),Z.qZA()),2&t){const t=a.$implicit;Z.xp6(3),Z.hij(" ",t.index," ")}}function P(t,a){1&t&&(Z.TgZ(0,"mat-header-cell",25),Z._uU(1,"Nama Universitas"),Z.qZA())}function S(t,a){if(1&t&&(Z.TgZ(0,"mat-cell"),Z._UZ(1,"span",24),Z._uU(2),Z.qZA()),2&t){const t=a.$implicit;Z.xp6(2),Z.hij(" ",t.universityName,"")}}function J(t,a){1&t&&(Z.TgZ(0,"mat-header-cell"),Z._uU(1,"Tanggal Submit"),Z.qZA())}function M(t,a){if(1&t&&(Z.TgZ(0,"mat-cell"),Z._UZ(1,"span",24),Z._uU(2),Z.ALo(3,"date"),Z.qZA()),2&t){const t=a.$implicit;Z.xp6(2),Z.hij(" ",Z.xi3(3,1,t.registerLastAt,"d MMMM y"),"")}}function D(t,a){1&t&&(Z.TgZ(0,"mat-header-cell"),Z._uU(1,"Biaya Pendaftaran"),Z.qZA())}function Q(t,a){1&t&&(Z.TgZ(0,"span",28),Z._uU(1,"Sudah dibayar"),Z.qZA())}function O(t,a){1&t&&(Z.TgZ(0,"span",29),Z._uU(1,"Belum dibayar"),Z.qZA())}function L(t,a){if(1&t&&(Z.TgZ(0,"mat-cell"),Z._UZ(1,"span",24),Z.YNc(2,Q,2,0,"span",26),Z.YNc(3,O,2,0,"span",27),Z.qZA()),2&t){const t=a.$implicit;Z.xp6(2),Z.Q6J("ngIf",t.registerPaid),Z.xp6(1),Z.Q6J("ngIf",!t.registerPaid)}}function z(t,a){1&t&&(Z.TgZ(0,"mat-header-cell"),Z._uU(1,"Iuran Tahun Pertama"),Z.qZA())}function R(t,a){1&t&&(Z.TgZ(0,"span",28),Z._uU(1,"Sudah dibayar"),Z.qZA())}function B(t,a){1&t&&(Z.TgZ(0,"span",29),Z._uU(1,"Belum dibayar"),Z.qZA())}function F(t,a){if(1&t&&(Z.TgZ(0,"mat-cell"),Z._UZ(1,"span",24),Z.YNc(2,R,2,0,"span",26),Z.YNc(3,B,2,0,"span",27),Z.qZA()),2&t){const t=a.$implicit;Z.xp6(2),Z.Q6J("ngIf",t.annualPaid),Z.xp6(1),Z.Q6J("ngIf",!t.annualPaid)}}function j(t,a){1&t&&(Z.TgZ(0,"mat-header-cell"),Z._uU(1,"Dokumen"),Z.qZA())}function H(t,a){if(1&t){const t=Z.EpF();Z.TgZ(0,"mat-cell"),Z._UZ(1,"span",24),Z.TgZ(2,"button",30),Z.NdJ("click",function(){const a=Z.CHM(t).$implicit;return Z.oxw().onDetailClick(a)}),Z._uU(3," Lihat Detail "),Z.qZA(),Z.qZA()}}function G(t,a){1&t&&(Z.TgZ(0,"mat-header-cell"),Z._uU(1,"Action"),Z.qZA())}function V(t,a){if(1&t){const t=Z.EpF();Z.TgZ(0,"button",34),Z.NdJ("click",function(){Z.CHM(t);const a=Z.oxw().$implicit;return Z.oxw().onVerifyClick(a)}),Z._uU(1," Verifikasi "),Z.qZA()}}function E(t,a){if(1&t){const t=Z.EpF();Z.TgZ(0,"button",35),Z.NdJ("click",function(){Z.CHM(t);const a=Z.oxw().$implicit;return Z.oxw().onRejectClick(a)}),Z._uU(1," Tolak "),Z.qZA()}}function $(t,a){if(1&t&&(Z.TgZ(0,"mat-cell",31),Z.YNc(1,V,2,0,"button",32),Z.YNc(2,E,2,0,"button",33),Z.qZA()),2&t){const t=a.$implicit;Z.xp6(1),Z.Q6J("ngIf",2===t.registerLastStatus),Z.xp6(1),Z.Q6J("ngIf",2===t.registerLastStatus)}}function W(t,a){1&t&&Z._UZ(0,"mat-header-row")}function X(t,a){1&t&&Z._UZ(0,"mat-row")}const K=function(){return[5,10,20]};function tt(t,a){if(1&t&&(Z.TgZ(0,"button",8),Z._uU(1,"Tolak"),Z.qZA()),2&t){const t=Z.oxw();Z.Q6J("disabled",!t.rejectForm.valid)}}function at(t,a){1&t&&Z._UZ(0,"mat-spinner",9),2&t&&Z.Q6J("diameter",20)}let et=(()=>{class t{constructor(t,a,e,n,i,o,r){this.cdref=t,this.pengurusVerifyService=a,this.store=e,this.router=n,this.route=i,this.dialog=o,this.snackbar=r,this.displayedColumns=["index","university_name","created_at","register_paid","annual_paid","document","action"],this.dataSource=new s.by,this.store.dispatch(new f.z(!0))}ngOnInit(){this.paginator.pageIndex=this.route.snapshot.queryParams.page||0,this.paginator.pageSize=this.route.snapshot.queryParams.size||10,this.paginator.page.next()}ngAfterViewInit(){this.statusSelect.value=this.route.snapshot.queryParams.status||"",this.filterInput.nativeElement.value=this.route.snapshot.queryParams.search||"",this.sort.sort({id:"university_name",start:"asc",disableClear:!1}),this.cdref.detectChanges(),(0,l.T)(this.sort.sortChange,this.paginator.page,(0,c.R)(this.filterInput.nativeElement,"keyup"),this.statusSelect.valueChange).pipe((0,u.x)(),(0,m.b)(500),(0,p.O)({}),(0,d.w)(()=>(this.store.dispatch(new f.z(!0)),this.loadData()))).subscribe()}loadData(){return this.pengurusVerifyService.getAllMember(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction,this.filterInput.nativeElement.value,this.statusSelect.value).pipe((0,g.U)(t=>(this.resultsLength=t.pagination.length,t.data)),(0,g.U)(t=>{setTimeout(()=>{this.filterInput.nativeElement.focus()},500),this.store.dispatch(new f.z(!1)),this.dataSource.data=t.map((t,a)=>(t.index=this.paginator.pageIndex>0?a+this.paginator.pageIndex*this.paginator.pageSize+1:a+1,t))}))}onVerifyClick(t){this.dialog.open(nt,{width:"320px",data:{member:t}}).afterClosed().subscribe(a=>{a&&(this.store.dispatch(new f.z(!0)),this.pengurusVerifyService.verifyMember(t.uuid).subscribe(()=>{this.store.dispatch(new f.z(!1)),this.snackbar.open("Verifikasi berhasil","Buat SK",{panelClass:"snackbar-success",duration:5e3}).afterDismissed().subscribe(a=>{a&&this.router.navigate(["pengurus/sk-member"],{queryParams:{member:t.uuid}})}),this.loadData().subscribe()},t=>{this.store.dispatch(new f.z(!1))}))})}onRejectClick(t){this.dialog.open(it,{width:"320px",data:{member:t,type:"reject"},closeOnNavigation:!1,disableClose:!0}).afterClosed().subscribe(t=>{t&&(this.snackbar.open("Penolakan pendaftaran berhasil","Tutup",{panelClass:"snackbar-success",duration:5e3}),this.loadData().subscribe())})}onDetailClick(t){this.router.navigate([`pengurus/verify/detail/${t.uuid}`],{queryParams:{page:this.paginator.pageIndex,origin:"verify",search:this.filterInput.nativeElement.value,size:this.paginator.pageSize}})}}return t.\u0275fac=function(a){return new(a||t)(Z.Y36(Z.sBO),Z.Y36(x.C),Z.Y36(b.yh),Z.Y36(y.F0),Z.Y36(y.gz),Z.Y36(r.uw),Z.Y36(_.ux))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["app-pengurus-verify"]],viewQuery:function(t,a){if(1&t&&(Z.Gf(i.NW,7),Z.Gf(o.YE,5),Z.Gf(U,7),Z.Gf(N,5)),2&t){let t;Z.iGM(t=Z.CRH())&&(a.paginator=t.first),Z.iGM(t=Z.CRH())&&(a.sort=t.first),Z.iGM(t=Z.CRH())&&(a.filterInput=t.first),Z.iGM(t=Z.CRH())&&(a.statusSelect=t.first)}},decls:45,vars:11,consts:[["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","32px"],["fxFlex","70%"],["matInput",""],["filterInput",""],["fxFlex","25%"],["placeholder","Status Pendaftaran","name","status"],["matSelect",""],[3,"value"],[1,"mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","index"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","university_name"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","created_at"],["matColumnDef","register_paid"],["matColumnDef","annual_paid"],["matColumnDef","document"],["matColumnDef","action"],["fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","8px","style","padding: 8px 0px",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","length"],[1,"mobile-label"],["mat-sort-header",""],["class","pills success",4,"ngIf"],["class","pills warn",4,"ngIf"],[1,"pills","success"],[1,"pills","warn"],["mat-flat-button","","color","primary",1,"button-small",3,"click"],["fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","8px",2,"padding","8px 0px"],["mat-flat-button","","color","accent","class","button-small",3,"click",4,"ngIf"],["mat-flat-button","","color","warn","class","button-small",3,"click",4,"ngIf"],["mat-flat-button","","color","accent",1,"button-small",3,"click"],["mat-flat-button","","color","warn",1,"button-small",3,"click"]],template:function(t,a){1&t&&(Z.TgZ(0,"div",0),Z.TgZ(1,"mat-form-field",1),Z.TgZ(2,"mat-label"),Z._uU(3,"Cari"),Z.qZA(),Z._UZ(4,"input",2,3),Z.qZA(),Z.TgZ(6,"mat-form-field",4),Z.TgZ(7,"mat-select",5,6),Z.TgZ(9,"mat-option",7),Z._uU(10,"Tampilkan Semua"),Z.qZA(),Z.TgZ(11,"mat-option",7),Z._uU(12,"Daftar Akun"),Z.qZA(),Z.TgZ(13,"mat-option",7),Z._uU(14,"Menunggu Pembayaran"),Z.qZA(),Z.TgZ(15,"mat-option",7),Z._uU(16,"Verifikasi"),Z.qZA(),Z.TgZ(17,"mat-option",7),Z._uU(18,"Ditolak"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(19,"div",8),Z.TgZ(20,"mat-table",9),Z.ynx(21,10),Z.YNc(22,Y,2,0,"mat-header-cell",11),Z.YNc(23,I,4,1,"mat-cell",12),Z.BQk(),Z.ynx(24,13),Z.YNc(25,P,2,0,"mat-header-cell",14),Z.YNc(26,S,3,1,"mat-cell",12),Z.BQk(),Z.ynx(27,15),Z.YNc(28,J,2,0,"mat-header-cell",11),Z.YNc(29,M,4,4,"mat-cell",12),Z.BQk(),Z.ynx(30,16),Z.YNc(31,D,2,0,"mat-header-cell",11),Z.YNc(32,L,4,2,"mat-cell",12),Z.BQk(),Z.ynx(33,17),Z.YNc(34,z,2,0,"mat-header-cell",11),Z.YNc(35,F,4,2,"mat-cell",12),Z.BQk(),Z.ynx(36,18),Z.YNc(37,j,2,0,"mat-header-cell",11),Z.YNc(38,H,4,0,"mat-cell",12),Z.BQk(),Z.ynx(39,19),Z.YNc(40,G,2,0,"mat-header-cell",11),Z.YNc(41,$,3,2,"mat-cell",20),Z.BQk(),Z.YNc(42,W,1,0,"mat-header-row",21),Z.YNc(43,X,1,0,"mat-row",22),Z.qZA(),Z._UZ(44,"mat-paginator",23),Z.qZA()),2&t&&(Z.xp6(9),Z.Q6J("value",""),Z.xp6(2),Z.Q6J("value",0),Z.xp6(2),Z.Q6J("value",1),Z.xp6(2),Z.Q6J("value",2),Z.xp6(2),Z.Q6J("value",3),Z.xp6(3),Z.Q6J("dataSource",a.dataSource),Z.xp6(22),Z.Q6J("matHeaderRowDef",a.displayedColumns),Z.xp6(1),Z.Q6J("matRowDefColumns",a.displayedColumns),Z.xp6(1),Z.Q6J("pageSizeOptions",Z.DdM(10,K))("length",a.resultsLength))},directives:[A.xw,A.Wh,A.SQ,k.KE,A.yH,k.hX,T.Nt,q.gD,C.ey,s.BZ,o.YE,s.w1,s.fO,s.Dz,s.as,s.nj,i.NW,s.ge,s.ev,o.nU,n.O5,v.lW,s.XQ,s.Gk],pipes:[n.uU],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary[_ngcontent-%COMP%]{background:#8ecf54}.mobile-label[_ngcontent-%COMP%]{display:none}.button-small[_ngcontent-%COMP%]{font-size:12px;line-height:28px;padding:0 12px}.mat-dialog-content[_ngcontent-%COMP%]{margin:0!important}@media (max-width: 600px){.mobile-label[_ngcontent-%COMP%]{width:80px;display:inline-block;font-weight:700}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{flex-direction:column;align-items:start;padding:8px 24px}}@media (min-width: 600px){.mat-column-index[_ngcontent-%COMP%]{flex:0 0 4%}.mat-column-university_name[_ngcontent-%COMP%]{flex:0 0 25%}.mat-column-action[_ngcontent-%COMP%], .mat-column-annual_paid[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%], .mat-column-document[_ngcontent-%COMP%], .mat-column-register_paid[_ngcontent-%COMP%]{flex:0 0 14%}}"]}),t})(),nt=(()=>{class t{constructor(t,a,e){this.dialogRef=t,this.data=a,this.router=e}onNoClick(){this.dialogRef.close()}goToSK(){this.router.navigate(["pengurus/sk-member"])}}return t.\u0275fac=function(a){return new(a||t)(Z.Y36(r.so),Z.Y36(r.WI),Z.Y36(y.F0))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["dialog-confirm-verify"]],decls:16,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","space-around end",2,"margin-bottom","0px","padding","0"],["mat-flat-button","","color","primary","cdkFocusInitial","",3,"click"],["mat-flat-button","","color","accent",3,"click"]],template:function(t,a){1&t&&(Z.TgZ(0,"h2",0),Z._uU(1,"Verifikasi Anggota APTFI"),Z.qZA(),Z.TgZ(2,"div",1),Z.TgZ(3,"p"),Z._uU(4," Apakah anda yakin untuk melakukan "),Z.TgZ(5,"strong"),Z._uU(6,"verifikasi"),Z.qZA(),Z._uU(7," pendaftaran "),Z.TgZ(8,"strong"),Z._uU(9),Z.qZA(),Z._uU(10," ? "),Z.qZA(),Z.qZA(),Z.TgZ(11,"div",2),Z.TgZ(12,"button",3),Z.NdJ("click",function(){return a.dialogRef.close(!1)}),Z._uU(13,"Tidak"),Z.qZA(),Z.TgZ(14,"button",4),Z.NdJ("click",function(){return a.dialogRef.close(!0)}),Z._uU(15,"Ya, saya yakin"),Z.qZA(),Z.qZA()),2&t&&(Z.xp6(9),Z.Oqu(a.data.member.universityName))},directives:[r.uh,r.xY,r.H8,A.xw,A.Wh,v.lW],encapsulation:2}),t})(),it=(()=>{class t{constructor(t,a,e){this.dialogRef=t,this.data=a,this.pengurusVerifyService=e,this.loading=!1}ngOnInit(){this.rejectForm=new h.cw({reason:new h.NI(null,[h.kI.required])})}onSubmit(){this.rejectForm.valid&&(this.loading=!0,this.pengurusVerifyService.rejectMember(this.data.member.uuid,this.rejectForm.value.reason).subscribe(()=>{this.dialogRef.close(!0)},t=>{this.loading=!1}))}}return t.\u0275fac=function(a){return new(a||t)(Z.Y36(r.so),Z.Y36(r.WI),Z.Y36(x.C))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["dialog-reject"]],decls:18,vars:4,consts:[["mat-dialog-title",""],[2,"width","100%",3,"formGroup","submit"],["mat-dialog-content","","fxLayout","column","fxLayoutAlign","start stretch",2,"margin","0"],["matInput","","placeholder","Alasan Penolakan","formControlName","reason","rows","5"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","space-around end",2,"margin-bottom","0px","padding","0"],["mat-flat-button","","type","button","color","primary","cdkFocusInitial","",3,"click"],["mat-flat-button","","type","submit","color","warn",3,"disabled",4,"ngIf"],[3,"diameter",4,"ngIf"],["mat-flat-button","","type","submit","color","warn",3,"disabled"],[3,"diameter"]],template:function(t,a){1&t&&(Z.TgZ(0,"h2",0),Z._uU(1,"Penolakan Anggota APTFI"),Z.qZA(),Z.TgZ(2,"form",1),Z.NdJ("submit",function(){return a.onSubmit()}),Z.TgZ(3,"div",2),Z.TgZ(4,"p"),Z._uU(5,"Berikan alasan penolakan atas pendaftaran "),Z.TgZ(6,"strong"),Z._uU(7),Z.qZA(),Z.qZA(),Z.TgZ(8,"mat-form-field"),Z.TgZ(9,"textarea",3),Z._uU(10," "),Z.qZA(),Z.TgZ(11,"mat-error"),Z._uU(12,"Alsan Penolakan harus diisi"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(13,"div",4),Z.TgZ(14,"button",5),Z.NdJ("click",function(){return a.dialogRef.close(!1)}),Z._uU(15," Batal "),Z.qZA(),Z.YNc(16,tt,2,1,"button",6),Z.YNc(17,at,1,1,"mat-spinner",7),Z.qZA(),Z.qZA()),2&t&&(Z.xp6(2),Z.Q6J("formGroup",a.rejectForm),Z.xp6(5),Z.Oqu(a.data.member.universityName),Z.xp6(9),Z.Q6J("ngIf",!a.loading),Z.xp6(1),Z.Q6J("ngIf",a.loading))},directives:[r.uh,h._Y,h.JL,h.sg,r.xY,A.xw,A.Wh,k.KE,T.Nt,h.Fj,h.JJ,h.u,k.TO,r.H8,v.lW,n.O5,w.$g],encapsulation:2}),t})();var ot=e(8341),st=e(3356),rt=e(1769),lt=e(6627);const ct=[{path:"",component:et}];let ut=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=Z.oAB({type:t}),t.\u0275inj=Z.cJS({imports:[[n.ez,y.Bz.forChild(ct),s.p0,i.TU,o.JX,k.lN,T.c,ot.Hi,v.ot,st.o9,lt.Ps,rt.t,r.Is,_.ZX,q.LD,h.UX,w.Cq]]}),t})()}}]);