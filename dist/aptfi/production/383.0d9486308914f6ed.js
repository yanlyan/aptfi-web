"use strict";(self.webpackChunkaptfi=self.webpackChunkaptfi||[]).push([[383],{9383:(G,f,o)=>{o.r(f),o.d(f,{RegisterModule:()=>M});var v=o(9808),T=o(5861),i=o(3075),A=o(2534),C=o(1781),t=o(5e3),U=o(2340),L=o(7352);let I=(()=>{class r{constructor(e){this.httpClient=e}register(e,a,n,m,s){return this.httpClient.post(`${U.N.api}/register`,{name:e,email:a,password:n,password_confirmation:m,recaptcha:s})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(L.Y))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var R=o(6661),g=o(8774),d=o(5876),c=o(7093),u=o(9224),p=o(7322),Z=o(7531),h=o(4834),x=o(7423),y=o(773);function F(r,l){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Nama Universitas harus diisi"),t.qZA())}function N(r,l){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Email Universitas harus diisi"),t.qZA())}function Y(r,l){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Email Universitas tidak valid"),t.qZA())}function J(r,l){1&r&&(t.TgZ(0,"button",18),t._uU(1,"Buat Akun Baru"),t.qZA())}function S(r,l){1&r&&(t.TgZ(0,"div",19),t._UZ(1,"mat-spinner",20),t.TgZ(2,"label",21),t._uU(3,"Loading"),t.qZA(),t.qZA()),2&r&&(t.xp6(1),t.Q6J("diameter",20))}let q=(()=>{class r{constructor(e,a,n,m,s){this.registerService=e,this.store=a,this.router=n,this.fb=m,this.recaptchaService=s,this.loading=!1,this.loginForm=this.fb.group({name:["",[i.kI.required]],email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required]],passwordConfirmation:["",[i.kI.required]]},{validators:(0,C.Y)("password","passwordConfirmation")})}mustMatch(e,a){return n=>{const s=n.controls[a];s.errors&&!s.errors.mustMatch||s.setErrors(n.controls[e].value!==s.value?{mustMatch:!0}:null)}}ngOnInit(){}onSubmit(){var e=this;return(0,T.Z)(function*(){if(e.loginForm.valid){e.loading=!0;const a=yield e.recaptchaService.execute({action:"register"});e.registerService.register(e.loginForm.value.name,e.loginForm.value.email,e.loginForm.value.password,e.loginForm.value.passwordConfirmation,a).subscribe(n=>{e.store.dispatch(new A.p({accessToken:n.access_token,refreshToken:n.refresh_token,role:n.user.role})),e.router.navigate(["/"]),e.loading=!1},n=>{e.loading=!1})}})()}goToRegister(){this.router.navigate(["daftar"])}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(I),t.Y36(R.yh),t.Y36(g.F0),t.Y36(i.qu),t.Y36(d.qu))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-register"]],decls:34,vars:8,consts:[["fxLayout","column","fxLayoutGap","32px","fxLayoutAlign","start center",2,"height","100%","background-color","#ddd","padding-top","64px"],[2,"text-align","center"],["src","assets/image/logo2.png","alt","",2,"width","70%"],["fxLayout","row","fxLayoutAlign","center center"],[2,"margin","24px 0px"],["fxLayout","column","fxLayoutAlign","center stretch"],["fxLayout","column","fxLayoutAlign","start stretch","fxLayoutGap","8px",2,"margin","0px 16px",3,"formGroup","submit"],["matInput","","placeholder","Nama Universitas","formControlName","name","type","text"],[4,"ngIf"],["matInput","","placeholder","Email Universitas","formControlName","email","type","email"],["matInput","","placeholder","Password","formControlName","password","type","password"],["matInput","","placeholder","Ulangi Password","formControlName","passwordConfirmation","type","password"],["fxLayout","row","fxLayoutAlign","space-around center",2,"margin-top","20px","padding-bottom","20px"],["mat-raised-button","","color","primary","type","submit",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px",4,"ngIf"],[3,"size","hide"],["fxLayout","row","fxLayoutAlign","space-between center",2,"margin-top","24px","width","100%"],["routerLink","/login"],["mat-raised-button","","color","primary","type","submit"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px"],["color","primary",3,"diameter"],["for",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"mat-card"),t.TgZ(4,"mat-card-header",3),t.TgZ(5,"mat-card-title",4),t._uU(6,"Daftar akun ke Sistem Keanggotaan APTFI"),t.qZA(),t.qZA(),t.TgZ(7,"mat-card-content",5),t.TgZ(8,"form",6),t.NdJ("submit",function(){return a.onSubmit()}),t.TgZ(9,"mat-form-field"),t._UZ(10,"input",7),t.YNc(11,F,2,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field"),t._UZ(13,"input",9),t.YNc(14,N,2,0,"mat-error",8),t.YNc(15,Y,2,0,"mat-error",8),t.qZA(),t.TgZ(16,"mat-form-field"),t._UZ(17,"input",10),t.TgZ(18,"mat-error"),t._uU(19,"Password harus diisi"),t.qZA(),t.qZA(),t.TgZ(20,"mat-form-field"),t._UZ(21,"input",11),t.TgZ(22,"mat-error"),t._uU(23,"Ulangi Password harus sama dengan password"),t.qZA(),t.qZA(),t.TgZ(24,"div"),t.TgZ(25,"div",12),t.YNc(26,J,2,0,"button",13),t.YNc(27,S,4,1,"div",14),t.qZA(),t._UZ(28,"recaptcha",15),t._UZ(29,"mat-divider"),t.qZA(),t.qZA(),t.TgZ(30,"div",16),t.TgZ(31,"div"),t.TgZ(32,"a",17),t._uU(33,"Masuk ke akun"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){let n,m,s;t.xp6(8),t.Q6J("formGroup",a.loginForm),t.xp6(3),t.Q6J("ngIf",!(null==(n=a.loginForm.get("name"))||!n.hasError("required"))),t.xp6(3),t.Q6J("ngIf",!(null==(m=a.loginForm.get("email"))||!m.hasError("required"))),t.xp6(1),t.Q6J("ngIf",!(null==(s=a.loginForm.get("email"))||!s.hasError("email"))),t.xp6(11),t.Q6J("ngIf",!a.loading),t.xp6(1),t.Q6J("ngIf",a.loading),t.xp6(1),t.Q6J("size","invisible")("hide",!0)}},directives:[c.xw,c.SQ,c.Wh,u.a8,u.dk,u.n5,u.dn,i._Y,i.JL,i.sg,p.KE,Z.Nt,i.Fj,i.JJ,i.u,v.O5,p.TO,d.p3,h.d,g.yS,x.lW,y.$g],styles:[""]}),r})();var w=o(9764);const E=[{path:"",component:q,canActivate:[o(8595).i]}];let M=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[v.ez,g.Bz.forChild(E),u.QW,x.ot,p.lN,w.o9,Z.c,h.t,i.UX,y.Cq,d.Bt]]}),r})()}}]);