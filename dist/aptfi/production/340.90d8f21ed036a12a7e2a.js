(self.webpackChunkaptfi=self.webpackChunkaptfi||[]).push([[340],{3340:(t,a,n)=>{"use strict";n.r(a),n.d(a,{TagihanModule:()=>J});var i=n(8583),e=n(8939),o=n(9989),r=n(7716),c=n(6633),u=n(5893),g=n(8645),l=n(5618),s=n(3738),p=n(1769),d=n(6627),f=n(4885),x=n(1095);function Z(t,a){if(1&t&&(r.TgZ(0,"mat-card-title"),r._uU(1),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(1),r.hij("Iuran Anggota Tahun ",t.year,"")}}function m(t,a){1&t&&(r.TgZ(0,"mat-card-title"),r._uU(1,"Biaya Pendaftaran Anggota"),r.qZA())}function A(t,a){1&t&&(r.TgZ(0,"div",17),r.TgZ(1,"mat-icon",18),r._uU(2,"fiber_manual_record"),r.qZA(),r.TgZ(3,"label",9),r._uU(4,"Belum dibayar"),r.qZA(),r.qZA())}function y(t,a){1&t&&(r.TgZ(0,"div",17),r.TgZ(1,"mat-icon",19),r._uU(2,"fiber_manual_record"),r.qZA(),r.TgZ(3,"label",9),r._uU(4,"Menunggu pembayaran"),r.qZA(),r.qZA())}function b(t,a){1&t&&(r.TgZ(0,"div",17),r.TgZ(1,"mat-icon",20),r._uU(2,"fiber_manual_record"),r.qZA(),r.TgZ(3,"label",9),r._uU(4,"Lunas"),r.qZA(),r.qZA())}function q(t,a){1&t&&(r.TgZ(0,"div",17),r.TgZ(1,"mat-icon",21),r._uU(2,"fiber_manual_record"),r.qZA(),r.TgZ(3,"label",9),r._uU(4,"Pembayaran Kadaluarsa"),r.qZA(),r.qZA())}function T(t,a){1&t&&(r.TgZ(0,"label",13),r._uU(1,"Pendaftaran Anggota"),r.qZA())}function _(t,a){if(1&t&&(r.TgZ(0,"label",13),r._uU(1),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(1),r.hij("Iuran Tahunan (",t.year,")")}}function h(t,a){1&t&&(r.TgZ(0,"div",22),r._UZ(1,"mat-spinner",23),r.TgZ(2,"label",9),r._uU(3,"Loading"),r.qZA(),r.qZA()),2&t&&(r.xp6(1),r.Q6J("diameter",20))}function v(t,a){if(1&t){const t=r.EpF();r.TgZ(0,"button",24),r.NdJ("click",function(){r.CHM(t);const a=r.oxw().$implicit;return r.oxw().onPayButtonClick(a)}),r.TgZ(1,"mat-icon"),r._uU(2,"credit_card"),r.qZA(),r._uU(3," Bayar Sekarang "),r.qZA()}}function L(t,a){if(1&t){const t=r.EpF();r.TgZ(0,"button",24),r.NdJ("click",function(){r.CHM(t);const a=r.oxw().$implicit;return r.oxw().onRetryClick(a)}),r.TgZ(1,"mat-icon"),r._uU(2,"credit_card"),r.qZA(),r._uU(3," Bayar Sekarang "),r.qZA()}}function w(t,a){if(1&t){const t=r.EpF();r.TgZ(0,"button",24),r.NdJ("click",function(){r.CHM(t);const a=r.oxw().$implicit;return r.oxw().onPrintClick(a)}),r.TgZ(1,"mat-icon"),r._uU(2,"receipt"),r.qZA(),r._uU(3," Cetak Bukti Bayar "),r.qZA()}}function U(t,a){if(1&t&&(r.TgZ(0,"mat-card",2),r.TgZ(1,"mat-card-header",3),r.YNc(2,Z,2,1,"mat-card-title",4),r.YNc(3,m,2,0,"mat-card-title",4),r.qZA(),r.TgZ(4,"mat-card-content"),r.TgZ(5,"div",5),r.YNc(6,A,5,0,"div",6),r.YNc(7,y,5,0,"div",6),r.YNc(8,b,5,0,"div",6),r.YNc(9,q,5,0,"div",6),r.TgZ(10,"div"),r._uU(11),r.ALo(12,"date"),r.qZA(),r.qZA(),r._UZ(13,"mat-divider"),r.TgZ(14,"div",7),r.TgZ(15,"div",8),r.TgZ(16,"label",9),r._uU(17,"ID Transaksi"),r.qZA(),r.TgZ(18,"strong"),r._uU(19),r.qZA(),r.qZA(),r.TgZ(20,"div",10),r.TgZ(21,"strong",11),r._uU(22,"Pembayaran"),r.qZA(),r.YNc(23,T,2,0,"label",12),r.YNc(24,_,2,1,"label",12),r.qZA(),r.TgZ(25,"div",10),r.TgZ(26,"strong",11),r._uU(27,"Nominal"),r.qZA(),r.TgZ(28,"label",13),r._uU(29),r.ALo(30,"number"),r.qZA(),r.qZA(),r.TgZ(31,"div",10),r.TgZ(32,"strong",11),r._uU(33,"Nama Institusi"),r.qZA(),r.TgZ(34,"label",13),r._uU(35),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(36,"mat-card-actions"),r._UZ(37,"mat-divider"),r.TgZ(38,"div",14),r.YNc(39,h,4,1,"div",15),r.YNc(40,v,4,0,"button",16),r.YNc(41,L,4,0,"button",16),r.YNc(42,w,4,0,"button",16),r.qZA(),r.qZA(),r.qZA()),2&t){const t=a.$implicit;r.xp6(2),r.Q6J("ngIf","annual"===t.type),r.xp6(1),r.Q6J("ngIf","register"===t.type),r.xp6(3),r.Q6J("ngIf",0===t.lastStatus),r.xp6(1),r.Q6J("ngIf",1===t.lastStatus),r.xp6(1),r.Q6J("ngIf",2===t.lastStatus),r.xp6(1),r.Q6J("ngIf",3===t.lastStatus),r.xp6(2),r.hij(" ",r.xi3(12,16,t.lastStatusAt,"short")," "),r.xp6(8),r.Oqu(t.token.substr(24,12)),r.xp6(4),r.Q6J("ngIf","register"===t.type),r.xp6(1),r.Q6J("ngIf","annual"===t.type),r.xp6(5),r.hij("Rp. ",r.lcZ(30,19,t.amount+t.fee),""),r.xp6(6),r.Oqu(t.member.universityName),r.xp6(4),r.Q6J("ngIf",t.loading),r.xp6(1),r.Q6J("ngIf",0===t.lastStatus||1===t.lastStatus),r.xp6(1),r.Q6J("ngIf",3===t.lastStatus&&!t.loading),r.xp6(1),r.Q6J("ngIf",2===t.lastStatus&&!t.loading)}}let k=(()=>{class t{constructor(t,a,n){this.tagihanService=t,this._FileSaverService=a,this.store=n,this.store.dispatch(new o.z(!0)),this.getBills()}ngOnInit(){}getBills(){this.tagihanService.getOrder().pipe((0,e.x)(()=>{this.store.dispatch(new o.z(!1))})).subscribe(t=>{this.bills=t.bills})}onPayButtonClick(t){this.tagihanService.check(t.orderId).subscribe(t=>{this.getBills()}),window.snap.pay(t.token)}onPrintClick(t){t.loading=!0,this.tagihanService.print(t.token).subscribe(a=>{this._FileSaverService.save(a,"Bukti Pembayaran.pdf","pdf"),t.loading=!1},a=>{t.loading=!1})}onRetryClick(t){t.loading=!0,this.tagihanService.retry(t.token).subscribe(a=>{window.snap.pay(a.bill.token,{onClose:()=>{this.getBills()}}),t.loading=!1},a=>{t.loading=!1})}}return t.\u0275fac=function(a){return new(a||t)(r.Y36(c.F),r.Y36(u.m9),r.Y36(g.yh))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-tagihan"]],decls:3,vars:1,consts:[["fxLayout","row wrap","fxLayoutAlign","start start","fxLayoutGap","16px"],["fxFlex.lg","20%","fxFlex.md","45%","fxFlex.sm","45%","style","margin-top: 8px",4,"ngFor","ngForOf"],["fxFlex.lg","20%","fxFlex.md","45%","fxFlex.sm","45%",2,"margin-top","8px"],["fxLayout","row","fxLayoutAlign","center center"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","8px",2,"padding-bottom","8px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start stretch",2,"padding","8px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px",2,"padding","8px 0"],["for",""],["fxLayout","column","fxLayoutAlign","start stretch","fxLayoutGap","8px",2,"margin","8px 0"],[2,"color","#ccc","text-transform","uppercase"],["style","font-size: 20px",4,"ngIf"],[2,"font-size","20px"],["fxLayout","row","fxLayoutAlign","center center",2,"padding-top","8px"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px",4,"ngIf"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px"],[2,"color","#ddd"],[2,"color","#ffc957"],[2,"color","#b9ea81"],[2,"color","#ea5455"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px"],["color","primary",3,"diameter"],["mat-flat-button","","color","accent",3,"click"]],template:function(t,a){1&t&&(r.TgZ(0,"div"),r.TgZ(1,"div",0),r.YNc(2,U,43,21,"mat-card",1),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngForOf",a.bills))},directives:[l.xw,l.Wh,l.SQ,i.sg,s.a8,l.yH,s.dk,i.O5,s.dn,p.d,s.hq,s.n5,d.Hw,f.$g,x.lW],pipes:[i.uU,i.JJ],styles:[".mat-card[_ngcontent-%COMP%]{padding:0}.mat-card-header[_ngcontent-%COMP%]{padding:8px;background-color:#ffca27;border-top-left-radius:5px;border-top-right-radius:5px}.mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{margin-bottom:0;font-size:16px}.mat-card-content[_ngcontent-%COMP%]{padding:8px;margin-bottom:0}.mat-card-actions[_ngcontent-%COMP%]{padding:16px!important}.mat-card[_ngcontent-%COMP%]{margin-top:16px}"]}),t})();var I=n(8909),C=n(3356);const S=[{path:"",component:k}];let J=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[i.ez,I.Bz.forChild(S),s.QW,x.ot,C.o9,d.Ps,p.t,f.Cq]]}),t})()}}]);